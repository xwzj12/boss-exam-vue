webpackJsonp([35],{"Fa/J":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Xxa5"),r=a.n(n),i=a("exGp"),s=a.n(i),o=a("zL8q"),l={data:function(){return{userId:"",mobile:"",password:"",againPwd:"",name:"",email:"",sex:"",file:"",educational:"",english_level:"",university:"",professional:"",graduation_time:"",internship_info:"",school_postion:"",prize:""}},methods:{clickUpload:function(){this.$refs.fileInput.dispatchEvent(new MouseEvent("click"))},triggerFile:function(e){this.file=e.target.files[0];var t=new FileReader,a=this;t.readAsDataURL(this.file),t.onload=function(){a.newFile=this.result},console.log(this.file)},doRegister:function(){var e=this;return s()(r.a.mark(function t(){var a,n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.password===e.againPwd){t.next=3;break}return e.$message.error("两次输入的密码不对应！"),t.abrupt("return");case 3:if(11==e.mobile.length){t.next=6;break}return e.$message.error("手机号长度不对！"),t.abrupt("return");case 6:if(e.file){t.next=9;break}return e.$message.error("请上传照片！"),t.abrupt("return");case 9:if(e.name){t.next=12;break}return e.$message.error("请填写名字！"),t.abrupt("return");case 12:if(e.sex){t.next=15;break}return e.$message.error("请填写性别！"),t.abrupt("return");case 15:if(e.graduation_time){t.next=18;break}return e.$message.error("请填写毕业时间！"),t.abrupt("return");case 18:return a=o.Loading.service(),t.next=21,e.$http.post("/gateway/exam/user/register",{head:{version:"1",token:e.$store.getters.getToken,businessType:"12",equipId:"1",equipType:1,encrypt:1},body:{data:{mobile:e.mobile,password:e.password,name:e.name,email:e.email,sex:e.sex,educational:e.educational,englishLevel:e.english_level,university:e.university,professional:e.professional,graduationtime:e.graduation_time,internshipInfo:e.internship_info,prize:e.prize}}});case 21:if("1"!==(n=t.sent).head.responseCode){t.next=28;break}return e.userId=n.body.data.userId,t.next=26,e.doUpload();case 26:e.$message.success("注册成功!即将跳转到登录界面"),setTimeout(function(){e.$router.push("/examLogin")},2e3);case 28:a.close();case 29:case"end":return t.stop()}},t,e)}))()},doUpload:function(){var e=this;return s()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/gateway/exam/user/uploadMyPhoto",{head:{version:"1",token:e.$store.getters.getToken,businessType:"12",equipId:"1",equipType:1,encrypt:1},body:{data:{userId:e.userId,file:e.file}}});case 2:case"end":return t.stop()}},t,e)}))()}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"body"},[a("h1",[e._v("博思考试系统")]),e._v(" "),a("h2",[e._v("注册账号(*为必填)")]),e._v(" "),a("el-input",{attrs:{placeholder:"*您的手机号"},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}}),e._v(" "),a("el-input",{attrs:{placeholder:"*您的密码","show-password":""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("el-input",{attrs:{placeholder:"*再次确认密码","show-password":""},model:{value:e.againPwd,callback:function(t){e.againPwd=t},expression:"againPwd"}}),e._v(" "),a("el-input",{attrs:{placeholder:"*您的姓名"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("el-input",{attrs:{placeholder:"您的邮箱"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),a("el-radio-group",{model:{value:e.sex,callback:function(t){e.sex=t},expression:"sex"}},[a("el-radio-button",{attrs:{label:"0"}},[e._v("男")]),e._v(" "),a("el-radio-button",{attrs:{label:"1"}},[e._v("女")])],1),e._v(" "),a("el-input",{attrs:{placeholder:"文化水平"},model:{value:e.educational,callback:function(t){e.educational=t},expression:"educational"}}),e._v(" "),a("el-input",{attrs:{placeholder:"英语能力"},model:{value:e.english_level,callback:function(t){e.english_level=t},expression:"english_level"}}),e._v(" "),a("el-input",{attrs:{placeholder:"毕业院校"},model:{value:e.university,callback:function(t){e.university=t},expression:"university"}}),e._v(" "),a("el-input",{attrs:{placeholder:"专业"},model:{value:e.professional,callback:function(t){e.professional=t},expression:"professional"}}),e._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"*选择毕业日期"},model:{value:e.graduation_time,callback:function(t){e.graduation_time=t},expression:"graduation_time"}}),e._v(" "),a("el-input",{attrs:{placeholder:"在校职务说明",textarea:"4"},model:{value:e.school_postion,callback:function(t){e.school_postion=t},expression:"school_postion"}}),e._v(" "),a("el-input",{attrs:{placeholder:"实习经历",textarea:"4"},model:{value:e.internship_info,callback:function(t){e.internship_info=t},expression:"internship_info"}}),e._v(" "),a("el-input",{attrs:{placeholder:"获得奖项",textarea:"4"},model:{value:e.prize,callback:function(t){e.prize=t},expression:"prize"}}),e._v(" "),a("p"),e._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.clickUpload()}}},[e._v("*上传人像\n    "),a("input",{ref:"fileInput",staticClass:"hide",attrs:{type:"file",accept:"image/*"},on:{change:function(t){return e.triggerFile(t)}}})]),e._v(" "),this.file?a("div",{staticStyle:{color:"red"}},[e._v("已暂存相片，将在注册后保存")]):e._e(),e._v(" "),a("p"),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.doRegister()}}},[e._v("注册账号")])],1)},staticRenderFns:[]};var c=a("VU/8")(l,u,!1,function(e){a("h6zz")},"data-v-2cdef8cc",null);t.default=c.exports},h6zz:function(e,t){}});