webpackJsonp([18],{"4ufv":function(e,t){},UImT:function(e,t){},dwg7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Xxa5"),n=a.n(r),s=a("exGp"),i=a.n(s),l=a("zL8q"),o={mounted:function(){this.queryAll()},data:function(){return{eid:0,text:"",currentPage:1,pageSize:1,total:0,publisher:"",title:"",publishTime:"",examTime:"",examSessions:"",tableData:[]}},methods:{queryAll:function(){this.queryTotal(),this.queryExamRecord()},ShowRecord:function(e){var t=this;return i()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.$store.commit("setqueryPublishId",e.examPublishRecordId),t.$router.push({path:"/ExamRecordComponent"});case 2:case"end":return a.stop()}},a,t)}))()},queryExamRecord:function(){var e=this;return i()(n.a.mark(function t(){var a,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.Loading.service(),t.next=3,e.$http.post("/gateway/exam/publish/doQueryPublishForPaperAndReport",{head:{version:"1",token:e.$store.getters.getToken,businessType:"12",equipId:"1",equipType:1,encrypt:1},body:{data:{currentPage:e.currentPage,size:e.pageSize,publisher:e.publisher,title:e.title,publishStartTime:e.publishTime[0],publishEndTime:e.publishTime[1],examStartTime:e.examTime[0],examEndTime:e.examTime[1],examSessions:e.examSessions}}});case 3:(r=t.sent)&&(e.tableData=r.body.data.list,e.examTime="",e.publishTime=""),a.close();case 6:case"end":return t.stop()}},t,e)}))()},queryTotal:function(){var e=this;return i()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/gateway/exam/publish/doQueryPublishForPaperAndReport",{head:{version:"1",token:e.$store.getters.getToken,businessType:"12",equipId:"1",equipType:1,encrypt:1},body:{data:{publisher:e.publisher,title:e.title,publishStartTime:e.publishTime[0],publishEndTime:e.publishTime[1],examStartTime:e.examTime[0],examEndTime:e.examTime[1],examSessions:e.examSessions}}});case 2:(a=t.sent)&&(e.total=a.body.data.total);case 4:case"end":return t.stop()}},t,e)}))()},handleSelectionChange:function(e){this.multipleSelection=e},handleSizeChange:function(e){var t=this;return i()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.pageSize=e,t.queryExamRecord();case 2:case"end":return a.stop()}},a,t)}))()},handleCurrentChange:function(e){var t=this;return i()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.currentPage=e,t.queryExamRecord();case 2:case"end":return a.stop()}},a,t)}))()},getRowKey:function(e){return e.id}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"exam-body"},[a("h1",[e._v("查询符合条件的考试记录，点击详情即可查看每一场已交卷的考生记录")]),e._v(" "),a("div",{staticClass:"function-bar"},[a("el-input",{staticClass:"bar-search-item-input",attrs:{type:"text",size:"mini",placeholder:"请输入试卷发布人",onkeyup:"this.value=this.value.(/[^\\u4E00-\\u9FA5]/g,'');"},model:{value:e.publisher,callback:function(t){e.publisher=t},expression:"publisher"}},[a("template",{slot:"prepend"},[e._v("试卷发布人")])],2),e._v(" "),a("el-input",{staticClass:"bar-search-item-input",attrs:{size:"mini",placeholder:"请输入场次号"},model:{value:e.examSessions,callback:function(t){e.examSessions=t},expression:"examSessions"}},[a("template",{slot:"prepend"},[e._v("场次号")])],2),e._v(" "),a("el-input",{staticClass:"bar-search-item-input",attrs:{size:"mini",placeholder:"请输入考试标题"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}},[a("template",{slot:"prepend"},[e._v("考试标题")])],2),e._v(" "),a("p",{staticClass:"p-font"},[e._v("试卷发布时间:")]),e._v(" "),a("el-date-picker",{staticClass:"date-picker",attrs:{size:"mini",type:"datetimerange","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.publishTime,callback:function(t){e.publishTime=t},expression:"publishTime"}}),e._v(" "),a("p",{staticClass:"p-font"},[e._v("考试时间:")]),e._v(" "),a("el-date-picker",{staticClass:"date-picker",attrs:{size:"mini",type:"datetimerange","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.examTime,callback:function(t){e.examTime=t},expression:"examTime"}}),e._v(" "),a("el-button",{staticClass:"bar-search-item",attrs:{size:"mini",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.queryAll()}}},[e._v("筛选")])],1),e._v(" "),a("el-table",{key:e.examPublishRecordId,ref:"multipleTable",attrs:{data:e.tableData,"highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection","reserve-selection":"true",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"序号",type:"index"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",prop:"title"}}),e._v(" "),a("el-table-column",{attrs:{label:"试卷发布人",prop:"publisherName"}}),e._v(" "),a("el-table-column",{attrs:{label:"发布时间",prop:"updatedTime"}}),e._v(" "),a("el-table-column",{attrs:{label:"考试开始时间",prop:"startTime"}}),e._v(" "),a("el-table-column",{attrs:{prop:"examSessions",label:"场次号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endTime",label:"考试结束时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"markingStopTime",label:"阅卷截止时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"考试说明",prop:"descript"}}),e._v(" "),a("el-table-column",{attrs:{label:"考试状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s((t.row.status,"已结束"))+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"750"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.ShowRecord(t.row.examPublishRecordId)}}},[e._v("\n          查看考试记录")])]}}])})],1),e._v(" "),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{"current-page":this.currentPage,"page-sizes":[1,2,3,4,5],"page-size":this.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var c={components:{QueryPublish:a("VU/8")(o,u,!1,function(e){a("UImT")},"data-v-711a7844",null).exports},data:function(){return{}},created:function(){},mounted:function(){},methods:{}},p={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"problem-body"},[t("el-card",{staticClass:"box-card"},[t("div",{attrs:{slot:"header"},slot:"header"},[this._v("\n      考生试卷查询\n    ")]),this._v(" "),t("QueryPublish")],1)],1)},staticRenderFns:[]};var m=a("VU/8")(c,p,!1,function(e){a("4ufv")},"data-v-095cf1ac",null);t.default=m.exports}});