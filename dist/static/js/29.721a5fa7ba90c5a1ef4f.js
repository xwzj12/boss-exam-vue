webpackJsonp([29],{"8Z/h":function(e,a){},"Fa/J":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("Xxa5"),r=t.n(n),i=t("exGp"),s=t.n(i),o=t("zL8q"),l={data:function(){return{userId:"",mobile:"",password:"",againPwd:"",name:"",email:"",sex:"",file:"",educational:"",english_level:"",university:"",professional:"",graduation_time:"",internship_info:"",school_postion:"",prize:""}},methods:{clickUpload:function(){this.$refs.fileInput.dispatchEvent(new MouseEvent("click"))},triggerFile:function(e){this.file=e.target.files[0];var a=new FileReader,t=this;a.readAsDataURL(this.file),a.onload=function(){t.newFile=this.result},console.log(this.file)},doRegister:function(){var e=this;return s()(r.a.mark(function a(){var t,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.password===e.againPwd){a.next=3;break}return e.$message.error("两次输入的密码不对应！"),a.abrupt("return");case 3:if(11==e.mobile.length){a.next=6;break}return e.$message.error("手机号长度不对！"),a.abrupt("return");case 6:if(e.file){a.next=9;break}return e.$message.error("请上传照片！"),a.abrupt("return");case 9:if(e.name){a.next=12;break}return e.$message.error("请填写名字！"),a.abrupt("return");case 12:if(e.sex){a.next=15;break}return e.$message.error("请填写性别！"),a.abrupt("return");case 15:if(e.graduation_time){a.next=18;break}return e.$message.error("请填写毕业时间！"),a.abrupt("return");case 18:return t=o.Loading.service(),a.next=21,e.$http.post("/gateway/exam/user/register",{head:{version:"1",token:e.$store.getters.getToken,businessType:"12",equipId:"1",equipType:1,encrypt:1},body:{data:{mobile:e.mobile,password:e.password,name:e.name,email:e.email,sex:e.sex,educational:e.educational,englishLevel:e.english_level,university:e.university,professional:e.professional,graduationtime:e.graduation_time,internshipInfo:e.internship_info,prize:e.prize}}});case 21:if("1"!==(n=a.sent).head.responseCode){a.next=28;break}return e.userId=n.body.data.userId,a.next=26,e.doUpload();case 26:e.$message.success("注册成功!即将跳转到登录界面"),setTimeout(function(){e.$router.push("/examLogin")},2e3);case 28:t.close();case 29:case"end":return a.stop()}},a,e)}))()},doUpload:function(){var e=this;return s()(r.a.mark(function a(){var t;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(t=new FormData).append("userId",e.userId),t.append("userPic",e.file),a.next=5,e.$http.uploadFile("/gateway/exam/user/uploadMyPhoto",t);case 5:case"end":return a.stop()}},a,e)}))()}}},u={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"body"},[t("h1",[e._v("博思考试系统")]),e._v(" "),t("h2",[e._v("注册账号(*为必填)")]),e._v(" "),t("el-input",{attrs:{placeholder:"*您的手机号"},model:{value:e.mobile,callback:function(a){e.mobile=a},expression:"mobile"}}),e._v(" "),t("el-input",{attrs:{placeholder:"*您的密码","show-password":""},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}}),e._v(" "),t("el-input",{attrs:{placeholder:"*再次确认密码","show-password":""},model:{value:e.againPwd,callback:function(a){e.againPwd=a},expression:"againPwd"}}),e._v(" "),t("el-input",{attrs:{placeholder:"*您的姓名"},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}}),e._v(" "),t("el-input",{attrs:{placeholder:"您的邮箱"},model:{value:e.email,callback:function(a){e.email=a},expression:"email"}}),e._v(" "),t("el-radio-group",{model:{value:e.sex,callback:function(a){e.sex=a},expression:"sex"}},[t("el-radio-button",{attrs:{label:"0"}},[e._v("男")]),e._v(" "),t("el-radio-button",{attrs:{label:"1"}},[e._v("女")])],1),e._v(" "),t("el-input",{attrs:{placeholder:"文化水平"},model:{value:e.educational,callback:function(a){e.educational=a},expression:"educational"}}),e._v(" "),t("el-input",{attrs:{placeholder:"英语能力"},model:{value:e.english_level,callback:function(a){e.english_level=a},expression:"english_level"}}),e._v(" "),t("el-input",{attrs:{placeholder:"毕业院校"},model:{value:e.university,callback:function(a){e.university=a},expression:"university"}}),e._v(" "),t("el-input",{attrs:{placeholder:"专业"},model:{value:e.professional,callback:function(a){e.professional=a},expression:"professional"}}),e._v(" "),t("el-date-picker",{attrs:{type:"date",placeholder:"*选择毕业日期"},model:{value:e.graduation_time,callback:function(a){e.graduation_time=a},expression:"graduation_time"}}),e._v(" "),t("el-input",{attrs:{placeholder:"在校职务说明",textarea:"4"},model:{value:e.school_postion,callback:function(a){e.school_postion=a},expression:"school_postion"}}),e._v(" "),t("el-input",{attrs:{placeholder:"实习经历",textarea:"4"},model:{value:e.internship_info,callback:function(a){e.internship_info=a},expression:"internship_info"}}),e._v(" "),t("el-input",{attrs:{placeholder:"获得奖项",textarea:"4"},model:{value:e.prize,callback:function(a){e.prize=a},expression:"prize"}}),e._v(" "),t("p"),e._v(" "),t("el-button",{attrs:{type:"warning"},on:{click:function(a){return e.clickUpload()}}},[e._v("*上传人像\n    "),t("input",{ref:"fileInput",staticClass:"hide",attrs:{type:"file",accept:"image/*"},on:{change:function(a){return e.triggerFile(a)}}})]),e._v(" "),this.file?t("div",{staticStyle:{color:"red"}},[e._v("已暂存相片，将在注册后保存")]):e._e(),e._v(" "),t("p"),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.doRegister()}}},[e._v("注册账号")])],1)},staticRenderFns:[]};var c=t("VU/8")(l,u,!1,function(e){t("8Z/h")},"data-v-5c73241c",null);a.default=c.exports}});