webpackJsonp([20],{clWa:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Xxa5"),l=a.n(i),r=a("exGp"),s=a.n(r),n=a("zL8q"),o={mounted:function(){this.queryAll()},data:function(){return{eid:0,text:"",currentPage:1,pageSize:1,total:0,publisher:"",title:"",publishTime:"",examTime:"",examSessions:"",tableData:[]}},methods:{queryAll:function(){this.queryTotal(),this.queryExamRecord()},queryExamRecord:function(){var e=this;return s()(l.a.mark(function t(){var a,i;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.Loading.service(),t.next=3,e.$http.post("/gateway/exam/publish/doQueryPublishForPaperAndReport",{head:{version:"1",token:e.$store.getters.getToken,businessType:"12",equipId:"1",equipType:1,encrypt:1},body:{data:{currentPage:e.currentPage,size:e.pageSize,publisher:e.publisher,title:e.title,publishStartTime:e.publishTime[0],publishEndTime:e.publishTime[1],examStartTime:e.examTime[0],examEndTime:e.examTime[1],examSessions:e.examSessions}}});case 3:(i=t.sent)&&(e.tableData=i.body.data.list,e.examTime="",e.publishTime=""),a.close();case 6:case"end":return t.stop()}},t,e)}))()},queryTotal:function(){var e=this;return s()(l.a.mark(function t(){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/gateway/exam/publish/doQueryPublishForPaperAndReport",{head:{version:"1",token:e.$store.getters.getToken,businessType:"12",equipId:"1",equipType:1,encrypt:1},body:{data:{publisher:e.publisher,title:e.title,publishStartTime:e.publishTime[0],publishEndTime:e.publishTime[1],examStartTime:e.examTime[0],examEndTime:e.examTime[1],examSessions:e.examSessions}}});case 2:(a=t.sent)&&(e.total=a.body.data.total);case 4:case"end":return t.stop()}},t,e)}))()},handleSelectionChange:function(e){this.multipleSelection=e},handleSizeChange:function(e){var t=this;return s()(l.a.mark(function a(){return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.pageSize=e,t.queryExamRecord();case 2:case"end":return a.stop()}},a,t)}))()},handleCurrentChange:function(e){var t=this;return s()(l.a.mark(function a(){return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.currentPage=e,t.queryExamRecord();case 2:case"end":return a.stop()}},a,t)}))()},getRowKey:function(e){return e.id},detailClick:function(e){this.$store.commit("setqueryPublishId",e.examPublishRecordId),console.log(e.examPublishRecordId),console.log(this.$store.getters.getqueryPublishId),this.$router.push({path:"/reportDetail"})},filterTag:function(e,t){return t.status===e},toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"exam-body"},[a("h1",[e._v("查询符合条件的考试记录，点击详情即可查看每一场的考生记录")]),e._v(" "),a("div",{staticClass:"function-bar"},[a("el-input",{staticClass:"bar-search-item-input",attrs:{size:"mini",placeholder:"请输入试卷发布人"},model:{value:e.publisher,callback:function(t){e.publisher=t},expression:"publisher"}},[a("template",{slot:"prepend"},[e._v("试卷发布人")])],2),e._v(" "),a("el-input",{staticClass:"bar-search-item-input",attrs:{size:"mini",placeholder:"请输入场次号"},model:{value:e.examSessions,callback:function(t){e.examSessions=t},expression:"examSessions"}},[a("template",{slot:"prepend"},[e._v("场次号")])],2),e._v(" "),a("el-input",{staticClass:"bar-search-item-input",attrs:{size:"mini",placeholder:"请输入考试标题"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}},[a("template",{slot:"prepend"},[e._v("考试标题")])],2),e._v(" "),a("p",{staticClass:"p-font"},[e._v("试卷发布时间:")]),e._v(" "),a("el-date-picker",{staticClass:"date-picker",attrs:{size:"mini",type:"datetimerange","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.publishTime,callback:function(t){e.publishTime=t},expression:"publishTime"}}),e._v(" "),a("p",{staticClass:"p-font"},[e._v("考试时间:")]),e._v(" "),a("el-date-picker",{staticClass:"date-picker",attrs:{size:"mini",type:"datetimerange","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.examTime,callback:function(t){e.examTime=t},expression:"examTime"}}),e._v(" "),a("el-button",{staticClass:"bar-search-item",attrs:{size:"mini",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.queryAll()}}},[e._v("筛选")])],1),e._v(" "),a("el-table",{key:e.examPublishRecordId,ref:"multipleTable",attrs:{data:e.tableData,"highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection","reserve-selection":"true",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"序号",type:"index"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",prop:"title"}}),e._v(" "),a("el-table-column",{attrs:{label:"试卷发布人",prop:"publisherName"}}),e._v(" "),a("el-table-column",{attrs:{label:"发布时间",prop:"updatedTime"}}),e._v(" "),a("el-table-column",{attrs:{label:"考试开始时间",prop:"startTime"}}),e._v(" "),a("el-table-column",{attrs:{prop:"examSessions",label:"场次号",width:"120"}}),e._v(" "),a("el-table-column",{staticStyle:{width:"50"},attrs:{prop:"planPeopleNum",label:"计划人数"}}),e._v(" "),a("el-table-column",{staticStyle:{width:"50"},attrs:{prop:"totalPeople",label:"实际人数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endTime",label:"考试结束时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"markingStopTime",label:"阅卷截止时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"考试说明",prop:"descript"}}),e._v(" "),a("el-table-column",{attrs:{label:"考试状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(1==t.row.status?"已结束":"未结束")+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"750"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.detailClick(t.row)}}},[e._v("\n          查看考试记录")])]}}])})],1),e._v(" "),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{"current-page":this.currentPage,"page-sizes":[1,2,3,4,5],"page-size":this.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var c=a("VU/8")(o,u,!1,function(e){a("qcEk")},"data-v-baad3d24",null);t.default=c.exports},qcEk:function(e,t){}});